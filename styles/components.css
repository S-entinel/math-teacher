/*  Components - Pure Monochrome 8-bit Style */

/* Graph Containers */
.graph-container {
    margin: var(--space-5) 0;
    padding: var(--space-5);
    border: var(--border-thick) solid var(--border);
    background: var(--bg-primary);
    position: relative;
}

.graph-container::before {
    content: 'GRAPH';
    position: absolute;
    top: calc(var(--border-thick) * -1);
    left: var(--space-2);
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--text-primary);
    font-weight: 700;
    background: var(--bg-primary);
    padding: 0 var(--space-1);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.graph-container .js-plotly-plot {
    background: var(--bg-primary) !important;
}

.graph-container .plotly .modebar {
    background: var(--bg-secondary) !important;
    border: var(--border-width) solid var(--border) !important;
}

.graph-container .plotly .modebar-btn {
    background: var(--bg-primary) !important;
    border: var(--border-width) solid var(--border) !important;
    color: var(--text-primary) !important;
}

.graph-container .plotly .modebar-btn:hover {
    background: var(--text-primary) !important;
    color: var(--bg-primary) !important;
}

/* Practice Problems */
.practice-container {
    margin: var(--space-5) 0;
    padding: var(--space-5);
    border: var(--border-thick) solid var(--border);
    background: var(--bg-secondary);
    position: relative;
}

.practice-container::before {
    content: 'PRACTICE';
    position: absolute;
    top: calc(var(--border-thick) * -1);
    left: var(--space-2);
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--text-primary);
    font-weight: 700;
    background: var(--bg-secondary);
    padding: 0 var(--space-1);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.practice-header {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: var(--space-4);
    display: flex;
    justify-content: space-between;
    font-weight: 700;
    padding-top: var(--space-5);
    border-bottom: var(--border-width) solid var(--border);
    padding-bottom: var(--space-1);
}

.practice-difficulty {
    color: var(--text-primary);
    font-weight: 700;
    padding: var(--space-1) var(--space-2);
    border: var(--border-width) solid var(--border);
    background: var(--bg-primary);
}

.practice-problem {
    font-size: var(--font-size-base);
    color: var(--text-primary);
    line-height: 1.6;
    margin-bottom: var(--space-5);
    font-family: var(--font-mono);
    padding: var(--space-3);
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
}

.practice-actions {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
}

.practice-btn {
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
    color: var(--text-primary);
    padding: var(--space-3) var(--space-4);
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
}

.practice-btn:hover {
    background: var(--text-primary);
    color: var(--bg-primary);
}

.practice-btn:active {
    transform: translate(1px, 1px);
}

/* Artifact Containers */
.artifact-container {
    margin: var(--space-6) 0;
    border: var(--border-thick) solid var(--border);
    background: var(--bg-primary);
    position: relative;
}

.artifact-header {
    padding: var(--space-4);
    background: var(--bg-secondary);
    border-bottom: var(--border-width) solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}

.artifact-header.completed {
    background: var(--text-primary);
    color: var(--bg-primary);
}

.artifact-title {
    font-family: var(--font-mono);
    font-size: var(--font-size-base);
    font-weight: 700;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.artifact-header.completed .artifact-title {
    color: var(--bg-primary);
}

.artifact-meta {
    display: flex;
    gap: var(--space-2);
    align-items: center;
}

.artifact-actions {
    display: flex;
    gap: var(--space-2);
}

.artifact-btn {
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
    color: var(--text-primary);
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
}

.artifact-btn:hover {
    background: var(--text-primary);
    color: var(--bg-primary);
}

.artifact-btn:active {
    transform: translate(1px, 1px);
}

/* Difficulty Badges */
.difficulty-badge {
    padding: var(--space-1) var(--space-3);
    font-size: var(--font-size-xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: var(--font-mono);
    border: var(--border-width) solid var(--border);
    background: var(--bg-primary);
    color: var(--text-primary);
}

/* Artifact Content */
.artifact-content {
    padding: var(--space-5);
}

/* Graph Artifacts */
.graph-artifact {
    border-left: 4px solid var(--text-primary);
}

.graph-controls {
    margin-top: var(--space-4);
    padding: var(--space-4);
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
    display: grid;
    grid-template-columns: 2fr 1fr 1fr auto;
    gap: var(--space-3);
    align-items: end;
}

.graph-controls label {
    font-size: var(--font-size-xs);
    color: var(--text-primary);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.graph-controls input {
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
    color: var(--text-primary);
    padding: var(--space-2);
    font-size: var(--font-size-sm);
    font-family: var(--font-mono);
}

.graph-controls input:focus {
    outline: var(--border-width) solid var(--text-primary);
    outline-offset: calc(var(--border-width) * -1);
}

.update-graph-btn {
    background: var(--text-primary);
    color: var(--bg-primary);
    border: var(--border-width) solid var(--text-primary);
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
}

.update-graph-btn:hover {
    background: var(--bg-primary);
    color: var(--text-primary);
}

.update-graph-btn:active {
    transform: translate(1px, 1px);
}

.artifact-container.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1000;
    margin: 0;
}

/* Exercise Artifacts */
.exercise-artifact {
    border-left: 4px solid var(--text-primary);
}

.problem-statement {
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--text-primary);
    margin-bottom: var(--space-6);
    padding: var(--space-4);
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
    font-family: var(--font-mono);
}

.exercise-steps {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    margin-bottom: var(--space-6);
}

.exercise-step {
    border: var(--border-width) solid var(--border);
    background: var(--bg-secondary);
}

.exercise-step.completed {
    border-color: var(--text-primary);
    background: var(--bg-primary);
}

.exercise-step.completed .step-header {
    background: var(--text-primary);
    color: var(--bg-primary);
}

.step-header {
    padding: var(--space-3) var(--space-4);
    border-bottom: var(--border-width) solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--bg-tertiary);
}

.step-number {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: 700;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.step-actions {
    display: flex;
    gap: var(--space-2);
}

.hint-btn {
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
    color: var(--text-primary);
    padding: var(--space-1) var(--space-2);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    cursor: pointer;
}

.hint-btn:hover {
    background: var(--text-primary);
    color: var(--bg-primary);
}

.step-instruction {
    padding: var(--space-4);
    color: var(--text-primary);
    line-height: 1.6;
    font-family: var(--font-mono);
}

.step-input {
    padding: var(--space-4);
    display: flex;
    gap: var(--space-3);
    align-items: center;
    background: var(--bg-primary);
}

.step-answer {
    flex: 1;
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
    color: var(--text-primary);
    padding: var(--space-2) var(--space-3);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
}

.step-answer:focus {
    outline: var(--border-width) solid var(--text-primary);
    outline-offset: calc(var(--border-width) * -1);
}

.check-answer-btn {
    background: var(--text-primary);
    color: var(--bg-primary);
    border: var(--border-width) solid var(--text-primary);
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
}

.check-answer-btn:hover {
    background: var(--bg-primary);
    color: var(--text-primary);
}

.check-answer-btn:active {
    transform: translate(1px, 1px);
}

.step-hint {
    padding: var(--space-4);
    background: var(--bg-tertiary);
    border-top: var(--border-width) solid var(--border);
    color: var(--text-primary);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
}

.step-feedback {
    padding: var(--space-3) var(--space-4);
    font-size: var(--font-size-sm);
    font-weight: 700;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.step-feedback.correct {
    background: var(--text-primary);
    color: var(--bg-primary);
    border-top: var(--border-width) solid var(--text-primary);
}

.step-feedback.incorrect {
    background: var(--bg-primary);
    color: var(--text-primary);
    border-top: var(--border-width) solid var(--border);
    border-style: dashed;
}

.exercise-progress {
    margin-top: var(--space-6);
    padding: var(--space-4);
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
}

.progress-bar {
    width: 100%;
    height: 12px;
    background: var(--bg-primary);
    border: var(--border-width) solid var(--border);
    margin-bottom: var(--space-2);
}

.progress-fill {
    height: 100%;
    background: var(--text-primary);
}

.progress-text {
    font-size: var(--font-size-xs);
    color: var(--text-primary);
    font-family: var(--font-mono);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.completion-message {
    margin-top: var(--space-4);
    padding: var(--space-4);
    background: var(--text-primary);
    color: var(--bg-primary);
    text-align: center;
    font-weight: 700;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 2px;
    border: var(--border-width) solid var(--text-primary);
    animation: blink 2s step-end infinite;
}

/* Step-by-Step Artifacts */
.step-by-step-artifact {
    border-left: 4px solid var(--text-primary);
}

.solution-steps {
    margin: var(--space-6) 0;
}

.solution-step {
    display: flex;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
    padding: var(--space-4);
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
}

.solution-step .step-number {
    width: 32px;
    height: 32px;
    background: var(--text-primary);
    color: var(--bg-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-weight: 700;
    font-size: var(--font-size-base);
    flex-shrink: 0;
    border: var(--border-width) solid var(--text-primary);
}

.solution-step .step-content {
    flex: 1;
}

.step-action {
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-2);
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.step-explanation {
    color: var(--text-primary);
    font-size: var(--font-size-sm);
    line-height: 1.5;
    margin-bottom: var(--space-2);
    font-family: var(--font-mono);
}

.step-result {
    font-family: var(--font-mono);
    color: var(--text-primary);
    background: var(--bg-primary);
    padding: var(--space-2) var(--space-3);
    border: var(--border-width) solid var(--border);
    font-weight: 700;
}

.final-result {
    margin-top: var(--space-6);
    padding: var(--space-5);
    background: var(--text-primary);
    color: var(--bg-primary);
    text-align: center;
    font-size: var(--font-size-lg);
    font-weight: 700;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 2px;
    border: var(--border-width) solid var(--text-primary);
}

/* Error States */
.artifact-error {
    padding: var(--space-4);
    background: var(--bg-secondary);
    border: var(--border-width) solid var(--border);
    border-style: dashed;
    color: var(--text-primary);
    text-align: center;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .artifact-container {
        margin: var(--space-4) 0;
    }
    
    .artifact-content {
        padding: var(--space-4);
    }
    
    .graph-controls {
        grid-template-columns: 1fr;
        gap: var(--space-2);
    }
    
    .step-input {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-2);
    }
    
    .artifact-header {
        padding: var(--space-3);
    }
    
    .artifact-title {
        font-size: var(--font-size-sm);
    }
    
    .practice-actions {
        flex-direction: column;
        gap: var(--space-2);
    }
    
    .practice-btn {
        width: 100%;
        text-align: center;
    }
}

@media (max-width: 480px) {
    .solution-step {
        flex-direction: column;
        gap: var(--space-3);
    }
    
    .solution-step .step-number {
        align-self: flex-start;
        width: 24px;
        height: 24px;
        font-size: var(--font-size-sm);
    }
    
    .graph-container,
    .practice-container {
        padding: var(--space-3);
        margin: var(--space-3) 0;
    }
}